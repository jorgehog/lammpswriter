See example.cpp for details on usage.